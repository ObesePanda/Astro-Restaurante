---
// src/pages/menu.astro
import "../styles/global.css";
import BaseLayout from "../layouts/BaseLayout.astro";
import menu from "../data/menu.json";
---

<BaseLayout title="Menú QR">
  <section
    class="relative text-white min-h-screen px-6 py-10"
    x-data="{ category: 'all' }"
  >
    <div class="absolute inset-0 bg-black/95 z-0"></div>
    <div
      class="absolute inset-0  bg-center z-[-1]"
      style="background-image: url('https://img.freepik.com/vector-premium/delicioso-patron-hamburguesa-telon-fondo-ilustracion-comida-sabrosa_332190-1724.jpg?semt=ais_items_boosted&w=740');background-repeat: repeat;"
    >
    </div>

    <div class="relative z-10">
      <div
        class="text-center mb-10"
        data-sal="zoom-out"
        data-sal-duration="1000"
        data-sal-delay="200"
      >
        <h1 class="text-5xl font-extrabold text-red-400">Menu</h1>
        <p class="text-lg mt-2 text-red-100">
          Revisa nuestra gran variedad de platillos y bebidas
        </p>
      </div>

      <!-- Botones de categoría adaptativos -->
      <div
        class="flex gap-4 mb-8 overflow-x-auto scrollbar-thin scrollbar-thumb-green-600 scrollbar-track-green-100 px-2 py-2 md:justify-center"
        data-sal="zoom-out"
        data-sal-duration="800"
        data-sal-delay="200"
      >
        <button
          @click="category = 'cocktails'"
          class="bg-red-800 text-white px-4 py-2 rounded-full whitespace-nowrap"
        >
          🍸 Cocktails
        </button>
        <button
          @click="category = 'hamburguesas'"
          class="bg-red-800 text-white px-4 py-2 rounded-full whitespace-nowrap"
        >
          🍔 Hamburguesas
        </button>
        <button
          @click="category = 'baguetts'"
          class="bg-red-800 text-white px-4 py-2 rounded-full whitespace-nowrap"
        >
          🥖 Baguetts
        </button>
        <button
          @click="category = 'all'"
          class="bg-gray-700 text-white px-4 py-2 rounded-full whitespace-nowrap"
        >
          Mostrar todos
        </button>
      </div>

      <!-- Lista de productos -->
      <div
        class="grid md:grid-cols-2 gap-8 max-w-5xl mx-auto"
        data-sal="zoom-out"
        data-sal-duration="1200"
        data-sal-delay="200"
      >
        {
          menu.map((item) => (
            <div
              x-show={`category === '${item.categoria}' || category === 'all'`}
              class="transition-all duration-300"
            >
              <div class="mt-2 flex justify-between text-sm">
                <h2 class="text-xl font-bold text-red-300">{item.nombre}</h2>
                {item.imagen && (
                  <img
                    src={item.imagen}
                    alt={item.nombre}
                    class="size-24 object-cover rounded-full"
                  />
                )}
              </div>
              <p class="mt-1 text-sm">
                <strong>Ingredientes:</strong> {item.ingredientes}
                <br />
                <strong>Guarnición:</strong> {item.guarnicion}
              </p>
              {item.presentaciones.map((p) => (
                <div class="mt-2 flex justify-between text-sm">
                  <span>{p.tipo}</span>
                  <span>{p.precio}</span>
                </div>
              ))}
            </div>
          ))
        }
      </div>
    </div>
  </section>
</BaseLayout>
